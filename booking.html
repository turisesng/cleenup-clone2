<!DOCTYPE html><html data-wf-domain="www.Wax-Wox.com" data-wf-page="663b5d248a5bef3cf5f00f32" data-wf-site="assets-media" lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Book Your Mobile Car Wash - Wax-Wox Booking</title>
    <meta content="Quickly book your eco-friendly mobile car wash service with the Wax-Wox online booking page." name="description"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link href="https://cdn.prod.website-files.com/assets-media/css/cleenup-com.webflow.08d0dec31.min.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous"/>
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">WebFont.load({  google: {    families: ["Inconsolata:400,700"]  }});</script>
    <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
    <link href="../brand-images/wwlogo2.svg" rel="shortcut icon" type="image/x-icon"/>
    <link href="../brand-images/logo23-removebg-preview.png" rel="apple-touch-icon"/>
    
    <style> 
        /* --- Nigerian Green Theme Colors --- */
        :root {
            --primary: #008753; /* Vibrant Nigerian Green for accents and buttons */
            --light-green-bg: #F0FFF5; /* Very light background for body */
        }
        
        body { 
            background-color: var(--light-green-bg); /* Apply light green background */
            -webkit-font-smoothing: antialiased; 
            -moz-font-smoothing: antialiased; 
            -o-font-smoothing: antialiased; 
        }
        
        .btn.cc-cta {
            background-color: var(--primary);
            border: 2px solid var(--primary);
        }

        .card.u-bg-lightgreen {
            background-color: #E0FFE0; 
        }

        /* --- **MAX HEIGHT REDUCTION FIX** --- */
        /* Targets the core navigation container and zeros out all vertical padding/margin. */
        .nav {
            padding-top: 0 !important;
            padding-bottom: 0 !important;
            margin-top: 0 !important;
            margin-bottom: 0 !important;
        }
        
        /* Ensures the text within the nav is vertically aligned properly after removing padding */
        .nav-container {
            display: flex;
            align-items: center;
            justify-content: space-around; 
            min-height: 50px; /* Optional: Sets a minimum height so links don't collapse too small */
        }
        
        .nav .split-content.mid {
            flex-grow: 1;
            text-align: center;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        /* --- CENTRING FIX (Retained) --- */
        /* Forces text-align: center on all relevant header elements */
        .page-main .u-text-center h2,
        .page-main .u-text-center .subtext,
        .page-main .u-text-center .subtext p {
            text-align: center !important;
        }
        
        /* --- Form and Layout Styles (Retained) --- */
        .booking-form-wrapper { max-width: 800px; margin: 0 auto; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 767px) {
            .grid-2 { grid-template-columns: 1fr; }
        }
        
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: bold; }
        
        .input, .w-select { 
            width: 100%; 
            padding: 12px; 
            border: 2px solid #ccc; 
            border-radius: 4px; 
            box-sizing: border-box; 
            font-size: 1rem;
            transition: border-color 0.2s;
        }
        .input:focus, .w-select:focus {
            border-color: var(--primary);
            outline: none;
        }

        .addon-list {
            margin-top: 15px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
        }
        @media (max-width: 991px) { 
            .addon-list { grid-template-columns: 1fr 1fr; } 
        }
        @media (max-width: 479px) {
            .addon-list { grid-template-columns: 1fr; } 
        }
        .addon-list .w-checkbox {
            margin-bottom: 5px;
        }
        .w-checkbox label {
            display: flex;
            align-items: center;
            font-weight: normal;
            cursor: pointer;
        }
        .w-checkbox-input {
            margin-right: 10px;
            width: 16px;
            height: 16px;
        }
    </style>
</head>
<body>
    <div class="global-embed-code w-embed w-iframe">
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WKRZPVBB"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    </div>
    <div class="page-wrapper">
        <div data-animation="default" data-collapse="all" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="nav w-nav">
            <div class="container">
                <div class="nav-container">
                    <div class="split-content left">
                        <a href="index.html" class="nav-logo_link w-nav-brand">
                            <div class="u-d-flex cc-align-center">
                                <img src="../brand-images/logo23-removebg-preview.png" loading="lazy" width="300" alt="A Wax-Wox logója." class="nav-logo"/>
                            </div>
                        </a>
                    </div>
                    
                    <div class="split-content mid">
                        <a href="index.html#prices" role="button" class="nav-link-new cc-lg">Pricing</a>
                        <a href="index.html#about" role="button" class="nav-link-new cc-lg">About Us</a>
                        <a href="fleet.html" role="button" class="nav-link-new cc-lg cc-highlight">For businesses</a>
                        <a href="franchise.html" role="button" class="nav-link-new cc-lg cc-highlight">Franchise</a>
                    </div>
                    
                    <div class="split-content right">
                        </div>
                </div>
            </div>
        </div>
        
        <main id="main" class="page-main">
            <section class="section">
                <div class="w-layout-blockcontainer container cc-small w-container">
                    <div class="u-text-center">
                        <h2 class="h2 u-mb-1"><span class="u-text-primary">Book Your Mobile Wash</span></h2>
                        <div class="subtext cc-660 u-mlr-auto">
                            <p class="paragraph-1-1 u-text-balance u-mb-2">Select your service, tell us where you are, and schedule your appointment in minutes. All prices in **Nigerian Naira (₦)**.</p>
                        </div>
                    </div>

                    <div class="booking-form-wrapper">
                        <form id="wf-form-booking" name="wf-form-booking" data-name="Booking Form" method="post" class="w-form">
                            
                            <div class="card u-bg-lightgreen u-mb-2">
                                <div class="card-body">
                                    <h3 class="h4 u-text-primary u-mb-1">1. Choose Your Package & Size</h3>
                                    <div class="grid-2">
                                        <div class="form-group">
                                            <label for="service-package">Service Package</label>
                                            <select id="service-package" name="service-package" class="input w-select" required="">
                                                <option value="">Select a Package</option>
                                                <option value="BASIC PACKAGE">BASIC PACKAGE - Starting at ₦4,500</option>
                                                <option value="SUPER PACKAGE">SUPER PACKAGE - Starting at ₦8,000</option>
                                                <option value="PREMIUM PACKAGE">PREMIUM PACKAGE - Starting at ₦15,000</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="car-size">Car Size (Affects Final Price)</label>
                                            <select id="car-size" name="car-size" class="input w-select" required="">
                                                <option value="">Select Car Size</option>
                                                <option value="Small">Small (Sedan/Hatchback)</option>
                                                <option value="Medium">Medium (Small SUV/Wagon)</option>
                                                <option value="Large">Large (Large SUV/Truck/Van)</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <h5 class="h6 u-mt-1">Additional Services:</h5>
                                    <div class="w-checkbox-group addon-list">
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-insect" name="addon-insect" value="Insect Removal" class="w-checkbox-input"/>
                                            <span class="w-form-label">Insect removal (₦5,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-stain" name="addon-stain" value="Stain Removal" class="w-checkbox-input"/>
                                            <span class="w-form-label">Stain removal (per surface) (₦2,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-pet-hair" name="addon-pet-hair" value="Pet Hair Removal" class="w-checkbox-input"/>
                                            <span class="w-form-label">Pet hair removal (₦2,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-leather-seat" name="addon-leather-seat" value="Leather Care (Seat)" class="w-checkbox-input"/>
                                            <span class="w-form-label">Leather care (per seat) (₦2,500)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-dashboard-leather" name="addon-dashboard-leather" value="Dashboard Leather Care" class="w-checkbox-input"/>
                                            <span class="w-form-label">Dashboard leather care (₦5,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-rubber-mat" name="addon-rubber-mat" value="Rubber Mat Care" class="w-checkbox-input"/>
                                            <span class="w-form-label">Rubber mat care (per mat) (₦2,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-foot-mat" name="addon-foot-mat" value="Foot Mat Deep Care" class="w-checkbox-input"/>
                                            <span class="w-form-label">Foot mat deep care (per mat) (₦2,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-plastic-care" name="addon-plastic-care" value="Plastic Care" class="w-checkbox-input"/>
                                            <span class="w-form-label">Indoor & outdoor plastic care (₦10,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-disinfection" name="addon-disinfection" value="Surface Disinfection" class="w-checkbox-input"/>
                                            <span class="w-form-label">Surface disinfection (₦10,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-odour" name="addon-odour" value="Odour Neutralization" class="w-checkbox-input"/>
                                            <span class="w-form-label">Odour neutralization (₦10,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-wet-dry" name="addon-wet-dry" value="Wet-Dry Cleaning" class="w-checkbox-input"/>
                                            <span class="w-form-label">Wet-dry cleaning (per seat) (₦5,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-sticker-removal" name="addon-sticker-removal" value="Sticker Removal" class="w-checkbox-input"/>
                                            <span class="w-form-label">Sticker removal inside & outside (per hour) (₦10,000)</span>
                                        </label>
                                        <label class="w-checkbox">
                                            <input type="checkbox" id="addon-child-seat" name="addon-child-seat" value="Child Seat Cleaning" class="w-checkbox-input"/>
                                            <span class="w-form-label">Child seat cleaning (₦2,000)</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="card u-bg-white u-mb-2">
                                <div class="card-body">
                                    <h3 class="h4 u-text-primary u-mb-1">2. Where and Who?</h3>
                                    <div class="form-group">
                                        <label for="car-location">Street Address / Exact Parking Spot Location</label>
                                        <input type="text" class="input w-input" maxlength="256" name="car-location" placeholder="e.g. 123 Main Street, Garage Level P2, Spot 45" id="car-location" required="">
                                    </div>
                                    <div class="grid-2">
                                        <div class="form-group">
                                            <label for="customer-name">Full Name</label>
                                            <input type="text" class="input w-input" maxlength="256" name="customer-name" placeholder="John Doe" id="customer-name" required="">
                                        </div>
                                        <div class="form-group">
                                            <label for="customer-email">Email Address</label>
                                            <input type="email" class="input w-input" maxlength="256" name="customer-email" placeholder="email@example.com" id="customer-email" required="">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card u-bg-lightgreen u-mb-2">
                                <div class="card-body">
                                    <h3 class="h4 u-text-primary u-mb-1">3. Schedule Your Wash</h3>
                                    <div class="grid-2">
                                        <div class="form-group">
                                            <label for="booking-date">Preferred Date</label>
                                            <input type="date" class="input w-input" name="booking-date" id="booking-date" required="">
                                        </div>
                                        <div class="form-group">
                                            <label for="booking-time">Preferred Time Slot</label>
                                            <input type="time" class="input w-input" name="booking-time" id="booking-time" required="">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="u-text-center u-mt-2">
                                <button type="submit" class="btn cc-cta cc-xs-full w-button">Confirm & Reserve Your Wash</button>
                                <p class="u-text-small u-mt-05">By clicking, you agree to our terms and conditions. You will be directed to a secure payment gateway.</p>
                            </div>

                        </form>
                        <div class="w-form-done">
                            <div class="card u-bg-lightgreen u-mt-2 u-text-center">
                                <div class="card-body">
                                    <h3>Booking Submitted!</h3>
                                    <p>Thank you! Your booking request has been submitted. Check your email for confirmation details.</p>
                                </div>
                            </div>
                        </div>
                        <div class="w-form-fail">
                            <div class="card u-bg-white u-mt-2 u-text-center">
                                <div class="card-body">
                                    <h3 class="u-text-primary">Submission Failed!</h3>
                                    <p>Oops! Something went wrong when submitting the form. Please check your inputs and try again, or contact support.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <div class="footer-section"> 
            </div>

    </div>
   <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // *** REPLACE WITH YOUR ACTUAL SUPABASE KEYS ***
        const SUPABASE_URL = 'YOUR_SUPABASE_PROJECT_URL'; 
        const SUPABASE_ANON_KEY = 'YOUR_SUPABASE_ANON_KEY'; 
        const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        // **********************************************

        let currentUserId = null;
        
        // Hide form messages initially
        document.querySelector('.w-form-done').style.display = 'none';
        document.querySelector('.w-form-fail').style.display = 'none';

        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('wf-form-booking');
            
            // 1. Check Auth Status on Load (redirect if not logged in)
            supabase.auth.getSession().then(({ data: { session } }) => {
                if (session) {
                    currentUserId = session.user.id;
                    form.style.display = 'block'; // Show form if logged in
                } else {
                    // User is NOT logged in. Redirect to the authentication page.
                    window.location.href = 'auth.html'; 
                }
            }).catch(e => {
                // Handle potential network or Supabase errors by redirecting
                 window.location.href = 'auth.html';
            });

            // 2. Handle Form Submission
            form.addEventListener('submit', async (e) => {
                e.preventDefault(); // Stop default form submission
                
                // Clear previous messages
                document.querySelector('.w-form-done').style.display = 'none';
                document.querySelector('.w-form-fail').style.display = 'none';

                if (!currentUserId) {
                    alert('Error: User not logged in. Redirecting to login page.');
                    window.location.href = 'auth.html';
                    return;
                }

                const formData = new FormData(form);
                const selectedAddons = Array.from(form.querySelectorAll('input[type="checkbox"]:checked'))
                    .map(cb => cb.value);

                const bookingData = {
                    user_id: currentUserId,
                    package: formData.get('service-package'),
                    car_size: formData.get('car-size'),
                    location: formData.get('car-location'),
                    customer_name: formData.get('customer-name'),
                    customer_email: formData.get('customer-email'),
                    booking_date: formData.get('booking-date'),
                    booking_time: formData.get('booking-time'),
                    addons: selectedAddons,
                };
                
                // Insert data into Supabase
                const { data, error } = await supabase
                    .from('bookings')
                    .insert([bookingData]);

                const successMessage = document.querySelector('.w-form-done');
                const failureMessage = document.querySelector('.w-form-fail');

                if (error) {
                    console.error('Supabase Insert Error:', error);
                    form.style.display = 'none';
                    failureMessage.style.display = 'block';
                } else {
                    console.log('Booking successful:', data);
                    form.style.display = 'none';
                    successMessage.style.display = 'block';
                    // Optional: Clear form or show a success component
                }
            });
        });
    </script>
</body>
</html>

